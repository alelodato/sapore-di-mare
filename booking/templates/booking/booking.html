{% extends 'base.html' %}
{% load static %}
{% block content %}
{% load crispy_forms_tags %}

<div class="booking-backg">
  <div class="book-cover-text">
    {% if user.is_authenticated %}
    <p id="auth"><i class="fa-regular fa-user"></i> {{ user }}</p>
    <h3 class="booking-h">Reserve your table at Sapore Di Mare</h3>
    <div class="picker-table">
      <div class="datepicker-container">

        <div class="datepicker">
          <!-- .datepicker-header -->
          <div class="datepicker-header">
            <button class="prev">Prev</button>

            <div>
              <select class="month-input">
                <option>January</option>
                <option>February</option>
                <option>March</option>
                <option>April</option>
                <option>May</option>
                <option>June</option>
                <option>July</option>
                <option>August</option>
                <option>September</option>
                <option>October</option>
                <option>November</option>
                <option>December</option>
              </select>
              <input type="number" class="year-input" />
            </div>

            <button class="next">Next</button>
          </div>
          <!-- /.datepicker-header -->

          <!-- .days -->
          <div class="days">
            <span>Sun</span>
            <span>Mon</span>
            <span>Tue</span>
            <span>Wed</span>
            <span>Thu</span>
            <span>Fri</span>
            <span>Sat</span>
          </div>
          <!-- /.days -->

          <!-- .dates -->
          <div class="dates"></div>
          <!-- /.dates -->

          <!-- .datepicker-footer -->
          <div class="datepicker-footer">
            <button class="apply">Apply</button>
          </div>
          <!-- /.datepicker-footer -->
        </div>
      </div>
      <div id="table" class="hide">
        <form id="make-reservation-form" method="post" class="make-reservation-form">
          {{ reservation_form | crispy }}
          {% csrf_token %}
          <div class="row">
            <div class="col d-flex justify-content-center">
              <button id="submitButton" type="submit" class="btn make-reservation-btn">Submit</button>
            </div>
          </div>
        </form>
        <button class="back">Back to date selection</button>
      </div>
    </div>
    {% for table in tables %}
    {% if table.customer == user %}
    <div class="active">
      <p>You have an existing booking</p>
      <div id="active-table">
      </div>
    </div>
    {% endif %}
    {% endfor %}
  </div>
</div>

{% else %}
<p id="auth">You are not logged in</p>
<p>Log in to reserve a table</p>
{% endif %}

{% endblock %}
</div>

{% block extras %}
<script src="{% static 'js/script.js' %}"></script>
{% endblock %}